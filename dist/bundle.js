(()=>{"use strict";var e={64:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(15),r=n.n(a),o=n(645),s=n.n(o)()(r());s.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Quicksand:wght@400;700&display=swap);"]),s.push([e.id,'body{font-family:"Quicksand",sans-serif}.form-wrapper{padding:20px;border:1px solid rgba(0,0,0,.1);border-radius:10px;margin-bottom:40px}.modal-wrapper{display:none}.table thead th{white-space:nowrap}.text-nowrap{white-space:nowrap}',"",{version:3,sources:["webpack://./src/sass/styles.sass"],names:[],mappings:"AAEA,KACI,kCAAA,CAEJ,cACI,YAAA,CACA,+BAAA,CACA,kBAAA,CACA,kBAAA,CAEJ,eACI,YAAA,CAKI,gBACI,kBAAA,CAEZ,aACI,kBAAA",sourcesContent:["@import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@400;700&display=swap')\r\n    \r\nbody\r\n    font-family: 'Quicksand', sans-serif\r\n        \r\n.form-wrapper\r\n    padding: 20px\r\n    border: 1px solid rgba(0,0,0,.1)\r\n    border-radius: 10px\r\n    margin-bottom: 40px\r\n    \r\n.modal-wrapper\r\n    display: none\r\n\r\n.table\r\n\r\n    thead\r\n        th\r\n            white-space: nowrap\r\n\r\n.text-nowrap\r\n    white-space: nowrap"],sourceRoot:""}]);const l=s},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,a){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(a)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(r[s]=!0)}for(var l=0;l<e.length;l++){var i=[].concat(e[l]);a&&r[i[0]]||(n&&(i[2]?i[2]="".concat(n," and ").concat(i[2]):i[2]=n),t.push(i))}},t}},15:e=>{function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}e.exports=function(e){var n,a,r=(a=4,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var a,r,o=[],s=!0,l=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);s=!0);}catch(e){l=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(l)throw r}}return o}}(n,a)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?t(e,n):void 0}}(n,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[1],s=r[3];if("function"==typeof btoa){var l=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(l),d="/*# ".concat(i," */"),c=s.sources.map((function(e){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(e," */")}));return[o].concat(c).concat([d]).join("\n")}return[o].join("\n")}},14:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var a=n(379),r=n.n(a),o=n(795),s=n.n(o),l=n(695),i=n.n(l),d=n(216),c=n.n(d),u=n(64),m={styleTagTransform:function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}},setAttributes:function(e){var t=n.nc;t&&e.setAttribute("nonce",t)},insert:function(e){var t=i()("head");if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(e)}};m.domAPI=s(),m.insertStyleElement=c(),r()(u.Z,m);const p=u.Z&&u.Z.locals?u.Z.locals:void 0},695:e=>{var t={};e.exports=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}},379:e=>{var t=[];function n(e){for(var n=-1,a=0;a<t.length;a++)if(t[a].identifier===e){n=a;break}return n}function a(e,a){for(var o={},s=[],l=0;l<e.length;l++){var i=e[l],d=a.base?i[0]+a.base:i[0],c=o[d]||0,u="".concat(d," ").concat(c);o[d]=c+1;var m=n(u),p={css:i[1],media:i[2],sourceMap:i[3]};-1!==m?(t[m].references++,t[m].updater(p)):t.push({identifier:u,updater:r(p,a),references:1}),s.push(u)}return s}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var o=a(e=e||[],r=r||{});return function(e){e=e||[];for(var s=0;s<o.length;s++){var l=n(o[s]);t[l].references--}for(var i=a(e,r),d=0;d<o.length;d++){var c=n(o[d]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}o=i}}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t),t}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var a=n.css,r=n.media,o=n.sourceMap;r?e.setAttribute("media",r):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(a,e)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},686:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=this;this.list=[],this.addEmployee=function(t){e.list.push(t)},this.removeEmployee=function(t){e.list.splice(t,1)},this.lengthEmployee=function(){return e.list.length}}},317:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n,a,r,o){var s=this;this.getId=function(){return s.id},this.id=e,this.name=t,this.sex=n,this.year=a,this.position=r,this.salary=o}},607:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(686)),o=a(n(317));n(14);var s,l,i=new r.default;!function(e){e[e.male=0]="male",e[e.female=1]="female"}(s||(s={})),function(e){e[e["Nhân viên"]=1]="Nhân viên",e[e["Quản lý"]=2]="Quản lý",e[e["Giám đốc"]=3]="Giám đốc"}(l||(l={}));var d=function(){var e=parseInt(this.getAttribute("data-id")),t=i.list.map((function(e){return e.getId()})).indexOf(e);if(t>-1){var n=i.list[t],a=p(n),r=document.getElementById("modal-wrapper");r.innerHTML=a,r.style.display="block";var o=document.getElementsByClassName("js-close-modal");if(o.length)for(var s=0;s<o.length;s++)o[s].addEventListener("click",(function(){f(r)}));var d=document.getElementsByClassName("js-update-emp");if(d.length)for(s=0;s<d.length;s++)d[s].addEventListener("click",(function(){var e=i.list[t],n=!0,a="";try{var o=m(e.name,"edit-name");o.flag?e.name=o.value:a+=o.messenger;var s=m(e.sex,"edit-sex");s.flag?e.sex=s.value:a+=s.messenger;var d=m(e.year,"edit-year");d.flag?e.year=d.value:a+=d.messenger;var c=m(e.position,"edit-position");c.flag?e.position=l[c.value]:a+=c.messenger;var p=m(e.salary,"edit-salary");p.flag?e.salary=p.value:a+=p.messenger,n=o.flag&&d.flag&&c.flag&&p.flag}catch(e){n=!1,console.log(e)}n&&""!==e.name&&0!==e.year&&0!==e.salary?(i.list[t]=e,console.log(i.list[t]),u(i),f(r)):alert("Có gì đó sai sai !! \n"+a)}))}},c=function(){var e=parseInt(this.getAttribute("data-id"));if(confirm("Bạn có chắc là muốn xóa Employee #"+e)){var t=i.list.map((function(e){return e.getId()})).indexOf(e);t>-1&&(i.removeEmployee(t),this.closest("tr").remove()),0===i.list.length&&(document.getElementById("employee_list").innerHTML='\n                <tr id="data-empty">\n                    <td colspan="7" class="border-0 py-4 px-0">\n                        <div class="form-wrapper mb-0 text-center">\n                            <p class="mb-0">\n                                Không có dữ liệu để hiển thị\n                            </p>\n                        </div>\n                    </td>\n                </tr>\n            ')}},u=function(e){var t=document.getElementById("employee_list"),n="";if(e.list.length>0)for(var a=0,r=e.list;a<r.length;a++){var o=r[a];n+='\n                <tr id="tr-'+o.getId()+'" data-id="'+o.getId()+'">\n                    <td class="text-nowrap">'+o.getId()+'</td>\n                    <td class="text-nowrap">'+o.name+'</td>\n                    <td class="text-nowrap">'+(o.sex?"Nữ":"Nam")+'</td>\n                    <td class="text-nowrap">'+o.year+'</td>\n                    <td class="text-nowrap">'+o.position+'</td>\n                    <td class="text-nowrap">'+o.salary+' VNĐ</td>\n                    <td class="text-right text-nowrap">\n                        <a href="#" class="text-warning js-edit-emp" data-id="'+o.getId()+'" id="edit-emp-'+o.getId()+'">Sửa</a>\n                        <span class="px-2"> | </span>\n                        <a href="#" class="text-danger js-delete-emp" data-id="'+o.getId()+'" id="del-emp-'+o.getId()+'">Xóa</a>\n                    </td>\n                </tr>\n            '}else n+='\n            <tr id="data-empty">\n                <td colspan="7" class="border-0 py-4 px-0">\n                    <div class="form-wrapper mb-0 text-center">\n                        <p class="mb-0">\n                            Không có dữ liệu để hiển thị\n                        </p>\n                    </div>\n                </td>\n            </tr>\n        ';t.innerHTML=n;for(var s=document.getElementsByClassName("js-delete-emp"),l=document.getElementsByClassName("js-edit-emp"),i=0;i<s.length;i++)s[i].addEventListener("click",c);for(i=0;i<l.length;i++)l[i].addEventListener("click",d)},m=function(e,t){var n,a,r,o={value:null,messenger:"",flag:!0},s=document.getElementById(t).getAttribute("data-name")?document.getElementById(t).getAttribute("data-name"):t;return""===document.getElementById(t).value?(o.flag=!1,o.messenger+="Bạn chưa nhập "+s.toUpperCase()+"\n",null===(n=document.getElementById(t))||void 0===n||n.classList.add("is-invalid"),o):("number"==typeof e?isNaN(+document.getElementById(t).value)?(o.flag=!1,o.messenger+=s.toUpperCase()+" phải là 1 số\n",null===(r=document.getElementById(t))||void 0===r||r.classList.add("is-invalid")):(o.value=+document.getElementById(t).value,null===(a=document.getElementById(t))||void 0===a||a.classList.remove("is-invalid")):o.value=document.getElementById(t).value,o)},p=function(e){return'\n    <div class="modal fade show" style="display: block;" id="myModal" tabindex="-1">\n        <div class="modal-dialog modal-lg modal-dialog-centered">\n            <div class="modal-content">\n                <div class="modal-header">\n                    <h5 class="modal-title">Employee #'+e.getId()+" - "+e.name+'</h5>\n                    <button type="button" class="btn-close js-close-modal" data-bs-dismiss="modal" aria-label="Close"></button>\n                </div>\n                <div class="modal-body">\n                    <form id="editEmp">\n                        <div class="form-group row mb-4">\n                            <label class="col-sm-2 col-form-label">Họ Tên</label>\n                            <div class="col-sm-10">\n                                <input type="text" class="form-control" id="edit-name" data-name="Họ Tên" placeholder="Nhập tên nhân viên" value="'+e.name+'"  />\n                            </div>\n                        </div>\n                        <div class="form-group row mb-4">\n                            <label class="col-sm-2 col-form-label">Phái</label>\n                            <div class="col-sm-10">\n                                <select class="form-select" id="edit-sex" data-name="Phái">\n                                    <option value="0" '+(e.sex?"":"selected")+'>Nam</option>\n                                    <option value="1" '+(e.sex?"selected":"")+'>Nữ</option>\n                                </select>\n                            </div>\n                        </div>\n                        <div class="form-group row mb-4">\n                            <label class="col-sm-2 col-form-label">Năm Sinh</label>\n                            <div class="col-sm-10">\n                                <input type="text" class="form-control" id="edit-year" data-name="năm sinh" placeholder="Nhập năm sinh" value="'+e.year+'"  />\n                            </div>\n                        </div>\n                        <div class="form-group row mb-4">\n                            <label class="col-sm-2 col-form-label">Vị Trí</label>\n                            <div class="col-sm-10">\n                                <select class="form-select" id="edit-position" data-name="Vị trí">\n                                    <option value="1">Nhân viên</option>\n                                    <option value="2">Quản lý</option>\n                                    <option value="3">Giám đốc</option>\n                                </select>\n                            </div>\n                        </div>\n                        <div class="form-group row mb-4">\n                            <label class="col-sm-2 col-form-label">Lương cơ bản</label>\n                            <div class="col-sm-10">\n                                <div class="input-group">\n                                    <input type="text" class="form-control" id="edit-salary" data-name="Lương cơ bản" placeholder="Nhập lương cơ bản" value="'+e.salary+'"  />\n                                    <span class="input-group-text">VNĐ</span>\n                                </div>\n                            </div>\n                        </div>\n                    </form>\n                </div>\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-secondary js-close-modal" data-bs-dismiss="modal">Hủy</button>\n                    <button type="button" class="btn btn-primary js-update-emp">Lưu</button>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="modal-backdrop fade show js-close-modal"></div>\n    '},f=function(e){var t=document.getElementById("myModal");null==t||t.remove(),e.style.display="none"};window.onload=function(){var e=document.getElementById("add");e&&e.addEventListener("click",(function(){!function(){var e,t,n=!0,a="",r="",d=s.male,c=0,p=1,f=0;e=(t=i.list).length?t[t.length-1].getId()+1:1;try{var v=m(r,"name");v.flag?r=v.value:a+=v.messenger;var g=m(d,"sex");g.flag?d=g.value:a+=g.messenger;var y=m(c,"year");y.flag?c=y.value:a+=y.messenger;var h=m(p,"position");h.flag?p=h.value:a+=h.messenger;var b=m(f,"salary");b.flag?f=b.value:a+=b.messenger,n=v.flag&&y.flag&&h.flag&&b.flag}catch(e){n=!1,console.log(e)}if(n&&0!==e&&""!==r&&0!==c&&0!==f){var A=new o.default(e,r,d,c,l[p],f);i.addEmployee(A),u(i),function(){var e;try{for(var t=0,n=["name","year","salary"];t<n.length;t++){var a=n[t];null===(e=document.getElementById(a))||void 0===e||e.classList.remove("is-invalid"),document.getElementById(a).value=""}}catch(e){console.log(e)}}()}else alert("Có gì đó sai sai !! \n"+a)}()}))}}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={id:a,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(607)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZW1vLy4vc3JjL3Nhc3Mvc3R5bGVzLnNhc3MiLCJ3ZWJwYWNrOi8vZGVtby8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vZGVtby8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzIiwid2VicGFjazovL2RlbW8vLi9zcmMvc2Fzcy9zdHlsZXMuc2Fzcz81ZWVkIiwid2VicGFjazovL2RlbW8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9nZXRUYXJnZXQuanMiLCJ3ZWJwYWNrOi8vZGVtby8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly9kZW1vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzIiwid2VicGFjazovL2RlbW8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcyIsIndlYnBhY2s6Ly9kZW1vLy4vc3JjL2VtcGxveWVlLWxpc3QudHMiLCJ3ZWJwYWNrOi8vZGVtby8uL3NyYy9lbXBsb3llZS5jbGFzcy50cyIsIndlYnBhY2s6Ly9kZW1vLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL2RlbW8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vZGVtby93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9kZW1vL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9kZW1vL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vZGVtby93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2RlbW8vd2VicGFjay9zdGFydHVwIl0sIm5hbWVzIjpbIl9fX0NTU19MT0FERVJfRVhQT1JUX19fIiwicHVzaCIsIm1vZHVsZSIsImlkIiwiZXhwb3J0cyIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJsaXN0IiwidG9TdHJpbmciLCJ0aGlzIiwibWFwIiwiaXRlbSIsImNvbnRlbnQiLCJjb25jYXQiLCJqb2luIiwiaSIsIm1vZHVsZXMiLCJtZWRpYVF1ZXJ5IiwiZGVkdXBlIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImxlbmd0aCIsIl9pIiwiX2FycmF5TGlrZVRvQXJyYXkiLCJhcnIiLCJsZW4iLCJhcnIyIiwiQXJyYXkiLCJfaXRlbSIsImlzQXJyYXkiLCJfYXJyYXlXaXRoSG9sZXMiLCJTeW1ib2wiLCJpdGVyYXRvciIsIl9zIiwiX2UiLCJfYXJyIiwiX24iLCJfZCIsImNhbGwiLCJuZXh0IiwiZG9uZSIsInZhbHVlIiwiZXJyIiwiX2l0ZXJhYmxlVG9BcnJheUxpbWl0IiwibyIsIm1pbkxlbiIsIm4iLCJPYmplY3QiLCJwcm90b3R5cGUiLCJzbGljZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsImZyb20iLCJ0ZXN0IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiVHlwZUVycm9yIiwiX25vbkl0ZXJhYmxlUmVzdCIsImNzc01hcHBpbmciLCJidG9hIiwiYmFzZTY0IiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsInNvdXJjZU1hcHBpbmciLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJvcHRpb25zIiwiY3NzIiwic3R5bGUiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsImFwcGVuZENoaWxkIiwiZG9jdW1lbnQiLCJjcmVhdGVUZXh0Tm9kZSIsIm5vbmNlIiwic2V0QXR0cmlidXRlIiwidGFyZ2V0IiwiRXJyb3IiLCJkb21BUEkiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJ1bmRlZmluZWQiLCJtZW1vIiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwid2luZG93IiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsInN0eWxlc0luRG9tIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwicmVzdWx0IiwibW9kdWxlc1RvRG9tIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiYmFzZSIsImNvdW50IiwiaW5kZXgiLCJvYmoiLCJtZWRpYSIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkU3R5bGUiLCJhcGkiLCJ1cGRhdGUiLCJuZXdPYmoiLCJyZW1vdmUiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2luZGV4Iiwic3BsaWNlIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwiaW5zZXJ0IiwicmVtb3ZlQXR0cmlidXRlIiwic3R5bGVUYWdUcmFuc2Zvcm0iLCJhcHBseSIsInBhcmVudE5vZGUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJkZWZpbmVQcm9wZXJ0eSIsImRlZmF1bHQiLCJfdGhpcyIsImFkZEVtcGxveWVlIiwiZW1wIiwicmVtb3ZlRW1wbG95ZWUiLCJsZW5ndGhFbXBsb3llZSIsInNleCIsInllYXIiLCJwb3NpdGlvbiIsInNhbGFyeSIsImdldElkIiwiX19pbXBvcnREZWZhdWx0IiwibW9kIiwiX19lc01vZHVsZSIsImVtcGxveWVlX2xpc3RfMSIsImVtcGxveWVlX2NsYXNzXzEiLCJTZXgiLCJQb3NpdGlvbiIsImxpc3RFbXBsb3llZSIsImVkaXRFbXBsb3llZSIsImRhdGFJZCIsInBhcnNlSW50IiwiZ2V0QXR0cmlidXRlIiwiaW5kZXhPZiIsInRlbXBsYXRlIiwiY3JlYXRlTW9kYWwiLCJtb2RhbF8xIiwiZ2V0RWxlbWVudEJ5SWQiLCJpbm5lckhUTUwiLCJkaXNwbGF5IiwiY2xvc2VNb2RhbCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlTW9kYWwiLCJ1cGRhdGVFbXAiLCJ0YXJnZXRFbXAiLCJmbGFnIiwiZXJyTWVzIiwiZ2V0TmFtZSIsImdldFZhbHVlIiwibWVzc2VuZ2VyIiwiZ2V0U2V4IiwiZ2V0WWVhciIsImdldFBvc2l0aW9uIiwiZ2V0U2FsYXJ5IiwiY29uc29sZSIsImxvZyIsImFkZFRvVGFibGUiLCJhbGVydCIsImRlbGV0ZUVtcGxveWVlIiwiY29uZmlybSIsImNsb3Nlc3QiLCJlbXBMaXN0IiwidGJvZHkiLCJfYSIsImJ0bkRlbEVtcCIsImJ0bkVkaXRFbXAiLCJ2YWwiLCJlbG0iLCJfYiIsIl9jIiwiT2JqIiwidGl0bGUiLCJ0b1VwcGVyQ2FzZSIsImNsYXNzTGlzdCIsImFkZCIsImlzTmFOIiwibW9kYWwiLCJteU1vZGVsIiwib25sb2FkIiwiYnRuQWRkRW1wIiwibGlzdEVtcCIsIm1hbGUiLCJlbXBsb3llZSIsImlucHV0RWxtXzEiLCJjbGVhcklucHV0RWxlbWVudCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJnZXR0ZXIiLCJkIiwiYSIsImRlZmluaXRpb24iLCJrZXkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwicHJvcCIsImhhc093blByb3BlcnR5IiwiciIsInRvU3RyaW5nVGFnIl0sIm1hcHBpbmdzIjoic0ZBR0lBLEUsTUFBMEIsR0FBNEIsS0FDMURBLEVBQXdCQyxLQUFLLENBQUNDLEVBQU9DLEdBQUksK0ZBRXpDSCxFQUF3QkMsS0FBSyxDQUFDQyxFQUFPQyxHQUFJLDJPQUE4TyxHQUFHLENBQUMsUUFBVSxFQUFFLFFBQVUsQ0FBQyxvQ0FBb0MsTUFB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QyxJQUFJLElBQUlDLEtBQU9ELEVBQ1hQLEVBQW9CbkssRUFBRTBLLEVBQVlDLEtBQVNSLEVBQW9CbkssRUFBRXRDLEVBQVNpTixJQUM1RXhLLE9BQU9rRixlQUFlM0gsRUFBU2lOLEVBQUssQ0FBRUMsWUFBWSxFQUFNQyxJQUFLSCxFQUFXQyxNQ0ozRVIsRUFBb0JuSyxFQUFJLENBQUM2RCxFQUFLaUgsSUFBVTNLLE9BQU9DLFVBQVUySyxlQUFlckwsS0FBS21FLEVBQUtpSCxHQ0NsRlgsRUFBb0JhLEVBQUt0TixJQUNILG9CQUFYeUIsUUFBMEJBLE9BQU84TCxhQUMxQzlLLE9BQU9rRixlQUFlM0gsRUFBU3lCLE9BQU84TCxZQUFhLENBQUVwTCxNQUFPLFdBRTdETSxPQUFPa0YsZUFBZTNILEVBQVMsYUFBYyxDQUFFbUMsT0FBTyxLQ0Y3QnNLLEVBQW9CLE0iLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiQGltcG9ydCB1cmwoaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1RdWlja3NhbmQ6d2dodEA0MDA7NzAwJmRpc3BsYXk9c3dhcCk7XCJdKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcImJvZHl7Zm9udC1mYW1pbHk6XFxcIlF1aWNrc2FuZFxcXCIsc2Fucy1zZXJpZn0uZm9ybS13cmFwcGVye3BhZGRpbmc6MjBweDtib3JkZXI6MXB4IHNvbGlkIHJnYmEoMCwwLDAsLjEpO2JvcmRlci1yYWRpdXM6MTBweDttYXJnaW4tYm90dG9tOjQwcHh9Lm1vZGFsLXdyYXBwZXJ7ZGlzcGxheTpub25lfS50YWJsZSB0aGVhZCB0aHt3aGl0ZS1zcGFjZTpub3dyYXB9LnRleHQtbm93cmFwe3doaXRlLXNwYWNlOm5vd3JhcH1cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvc2Fzcy9zdHlsZXMuc2Fzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFFQSxLQUNJLGtDQUFBLENBRUosY0FDSSxZQUFBLENBQ0EsK0JBQUEsQ0FDQSxrQkFBQSxDQUNBLGtCQUFBLENBRUosZUFDSSxZQUFBLENBS0ksZ0JBQ0ksa0JBQUEsQ0FFWixhQUNJLGtCQUFBXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIkBpbXBvcnQgdXJsKCdodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PVF1aWNrc2FuZDp3Z2h0QDQwMDs3MDAmZGlzcGxheT1zd2FwJylcXHJcXG4gICAgXFxyXFxuYm9keVxcclxcbiAgICBmb250LWZhbWlseTogJ1F1aWNrc2FuZCcsIHNhbnMtc2VyaWZcXHJcXG4gICAgICAgIFxcclxcbi5mb3JtLXdyYXBwZXJcXHJcXG4gICAgcGFkZGluZzogMjBweFxcclxcbiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDAsMCwwLC4xKVxcclxcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4XFxyXFxuICAgIG1hcmdpbi1ib3R0b206IDQwcHhcXHJcXG4gICAgXFxyXFxuLm1vZGFsLXdyYXBwZXJcXHJcXG4gICAgZGlzcGxheTogbm9uZVxcclxcblxcclxcbi50YWJsZVxcclxcblxcclxcbiAgICB0aGVhZFxcclxcbiAgICAgICAgdGhcXHJcXG4gICAgICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwXFxyXFxuXFxyXFxuLnRleHQtbm93cmFwXFxyXFxuICAgIHdoaXRlLXNwYWNlOiBub3dyYXBcIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiAobW9kdWxlcywgbWVkaWFRdWVyeSwgZGVkdXBlKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgdmFyIF9pID0gYXJyICYmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGFycltTeW1ib2wuaXRlcmF0b3JdIHx8IGFycltcIkBAaXRlcmF0b3JcIl0pOyBpZiAoX2kgPT0gbnVsbCkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9zLCBfZTsgdHJ5IHsgZm9yIChfaSA9IF9pLmNhbGwoYXJyKTsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSkge1xuICB2YXIgX2l0ZW0gPSBfc2xpY2VkVG9BcnJheShpdGVtLCA0KSxcbiAgICAgIGNvbnRlbnQgPSBfaXRlbVsxXSxcbiAgICAgIGNzc01hcHBpbmcgPSBfaXRlbVszXTtcblxuICBpZiAodHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShjc3NNYXBwaW5nKSkpKTtcbiAgICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCB8fCBcIlwiKS5jb25jYXQoc291cmNlLCBcIiAqL1wiKTtcbiAgICB9KTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKFwiXFxuXCIpO1xuICB9XG5cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xufTsiLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGdldFRhcmdldCBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2dldFRhcmdldC5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGVzLnNhc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBmdW5jdGlvbihjc3MsIHN0eWxlKXtcbiAgICAgIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xuICAgICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICAgIH1cblxuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gICAgfVxuICB9O1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gZnVuY3Rpb24oc3R5bGUpIHtcbiAgICAgICAgdmFyIG5vbmNlID1cbiAgICAgICAgICB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09IFwidW5kZWZpbmVkXCIgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgICAgICAgaWYgKG5vbmNlKSB7XG4gICAgICAgICAgc3R5bGUuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICAgICAgICB9XG4gICAgICB9O1xub3B0aW9ucy5pbnNlcnQgPSBmdW5jdGlvbihzdHlsZSl7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChcImhlYWRcIik7XG5cbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIlxuICAgICAgKTtcbiAgICB9XG5cbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9O1xub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlcy5zYXNzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBtZW1vID0ge307XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuZnVuY3Rpb24gZ2V0VGFyZ2V0KHRhcmdldCkge1xuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgfVxuXG4gIHJldHVybiBtZW1vW3RhcmdldF07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0VGFyZ2V0OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgc3R5bGVzSW5Eb20gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRvbS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRvbVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdXG4gICAgfTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZXNJbkRvbS5wdXNoKHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogYWRkU3R5bGUob2JqLCBvcHRpb25zKSxcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBhcGkgPSBvcHRpb25zLmRvbUFQSShvcHRpb25zKTtcbiAgYXBpLnVwZGF0ZShvYmopO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGFwaS51cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRG9tW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRvbVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRvbS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgb3B0aW9ucy5zZXRBdHRyaWJ1dGVzKHN0eWxlLCBvcHRpb25zLmF0dHJpYnV0ZXMpO1xuICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIHJldHVybiBzdHlsZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGUsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gb2JqLmNzcztcbiAgdmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAobWVkaWEpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUucmVtb3ZlQXR0cmlidXRlKFwibWVkaWFcIik7XG4gIH1cblxuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIG9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZSk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbmZ1bmN0aW9uIGRvbUFQSShvcHRpb25zKSB7XG4gIHZhciBzdHlsZSA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGUsIG9wdGlvbnMsIG9iaik7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRvbUFQSTsiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgRW1wbG95ZWVMaXN0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gRW1wbG95ZWVMaXN0KCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5saXN0ID0gW107XHJcbiAgICAgICAgdGhpcy5hZGRFbXBsb3llZSA9IGZ1bmN0aW9uIChlbXApIHtcclxuICAgICAgICAgICAgX3RoaXMubGlzdC5wdXNoKGVtcCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnJlbW92ZUVtcGxveWVlID0gZnVuY3Rpb24gKHRhcmdldCkge1xyXG4gICAgICAgICAgICBfdGhpcy5saXN0LnNwbGljZSh0YXJnZXQsIDEpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5sZW5ndGhFbXBsb3llZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmxpc3QubGVuZ3RoO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gRW1wbG95ZWVMaXN0O1xyXG59KCkpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBFbXBsb3llZUxpc3Q7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBFbXBsb3llZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEVtcGxveWVlKGlkLCBuYW1lLCBzZXgsIHllYXIsIHBvc2l0aW9uLCBzYWxhcnkpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuZ2V0SWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5pZDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuc2V4ID0gc2V4O1xyXG4gICAgICAgIHRoaXMueWVhciA9IHllYXI7XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xyXG4gICAgICAgIHRoaXMuc2FsYXJ5ID0gc2FsYXJ5O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIEVtcGxveWVlO1xyXG59KCkpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBFbXBsb3llZTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XHJcbn07XHJcbnZhciBfdGhpc18xID0gdGhpcztcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgZW1wbG95ZWVfbGlzdF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2VtcGxveWVlLWxpc3RcIikpO1xyXG52YXIgZW1wbG95ZWVfY2xhc3NfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9lbXBsb3llZS5jbGFzc1wiKSk7XHJcbnJlcXVpcmUoXCIuL3Nhc3Mvc3R5bGVzLnNhc3NcIik7XHJcbnZhciBsaXN0RW1wbG95ZWUgPSBuZXcgZW1wbG95ZWVfbGlzdF8xLmRlZmF1bHQoKTtcclxudmFyIFNleDtcclxuKGZ1bmN0aW9uIChTZXgpIHtcclxuICAgIFNleFtTZXhbXCJtYWxlXCJdID0gMF0gPSBcIm1hbGVcIjtcclxuICAgIFNleFtTZXhbXCJmZW1hbGVcIl0gPSAxXSA9IFwiZmVtYWxlXCI7XHJcbn0pKFNleCB8fCAoU2V4ID0ge30pKTtcclxudmFyIFBvc2l0aW9uO1xyXG4oZnVuY3Rpb24gKFBvc2l0aW9uKSB7XHJcbiAgICBQb3NpdGlvbltQb3NpdGlvbltcIk5oXFx1MDBFMm4gdmlcXHUwMEVBblwiXSA9IDFdID0gXCJOaFxcdTAwRTJuIHZpXFx1MDBFQW5cIjtcclxuICAgIFBvc2l0aW9uW1Bvc2l0aW9uW1wiUXVcXHUxRUEzbiBsXFx1MDBGRFwiXSA9IDJdID0gXCJRdVxcdTFFQTNuIGxcXHUwMEZEXCI7XHJcbiAgICBQb3NpdGlvbltQb3NpdGlvbltcIkdpXFx1MDBFMW0gXFx1MDExMVxcdTFFRDFjXCJdID0gM10gPSBcIkdpXFx1MDBFMW0gXFx1MDExMVxcdTFFRDFjXCI7XHJcbn0pKFBvc2l0aW9uIHx8IChQb3NpdGlvbiA9IHt9KSk7XHJcbnZhciBhZGRFbXBsb3llZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBmbGFnID0gdHJ1ZTtcclxuICAgIHZhciBlcnJNZXMgPSAnJztcclxuICAgIHZhciBpZCA9IDAsIG5hbWUgPSAnJywgc2V4ID0gU2V4Lm1hbGUsIHllYXIgPSAwLCBwb3NpdGlvbiA9IDEsIHNhbGFyeSA9IDA7XHJcbiAgICBpZCA9IGdldExhc3RJZCgpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB2YXIgZ2V0TmFtZSA9IGdldFZhbHVlKG5hbWUsICduYW1lJyk7XHJcbiAgICAgICAgZ2V0TmFtZS5mbGFnID8gbmFtZSA9IGdldE5hbWUudmFsdWUgOiBlcnJNZXMgKz0gZ2V0TmFtZS5tZXNzZW5nZXI7XHJcbiAgICAgICAgdmFyIGdldFNleCA9IGdldFZhbHVlKHNleCwgJ3NleCcpO1xyXG4gICAgICAgIGdldFNleC5mbGFnID8gc2V4ID0gZ2V0U2V4LnZhbHVlIDogZXJyTWVzICs9IGdldFNleC5tZXNzZW5nZXI7XHJcbiAgICAgICAgdmFyIGdldFllYXIgPSBnZXRWYWx1ZSh5ZWFyLCAneWVhcicpO1xyXG4gICAgICAgIGdldFllYXIuZmxhZyA/IHllYXIgPSBnZXRZZWFyLnZhbHVlIDogZXJyTWVzICs9IGdldFllYXIubWVzc2VuZ2VyO1xyXG4gICAgICAgIHZhciBnZXRQb3NpdGlvbiA9IGdldFZhbHVlKHBvc2l0aW9uLCAncG9zaXRpb24nKTtcclxuICAgICAgICBnZXRQb3NpdGlvbi5mbGFnID8gcG9zaXRpb24gPSBnZXRQb3NpdGlvbi52YWx1ZSA6IGVyck1lcyArPSBnZXRQb3NpdGlvbi5tZXNzZW5nZXI7XHJcbiAgICAgICAgdmFyIGdldFNhbGFyeSA9IGdldFZhbHVlKHNhbGFyeSwgJ3NhbGFyeScpO1xyXG4gICAgICAgIGdldFNhbGFyeS5mbGFnID8gc2FsYXJ5ID0gZ2V0U2FsYXJ5LnZhbHVlIDogZXJyTWVzICs9IGdldFNhbGFyeS5tZXNzZW5nZXI7XHJcbiAgICAgICAgZmxhZyA9IGdldE5hbWUuZmxhZyAmJiBnZXRZZWFyLmZsYWcgJiYgZ2V0UG9zaXRpb24uZmxhZyAmJiBnZXRTYWxhcnkuZmxhZztcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICBmbGFnID0gZmFsc2U7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH1cclxuICAgIGlmIChmbGFnICYmIGlkICE9PSAwICYmIG5hbWUgIT09ICcnICYmIHllYXIgIT09IDAgJiYgc2FsYXJ5ICE9PSAwKSB7XHJcbiAgICAgICAgdmFyIGVtcGxveWVlID0gbmV3IGVtcGxveWVlX2NsYXNzXzEuZGVmYXVsdChpZCwgbmFtZSwgc2V4LCB5ZWFyLCBQb3NpdGlvbltwb3NpdGlvbl0sIHNhbGFyeSk7XHJcbiAgICAgICAgbGlzdEVtcGxveWVlLmFkZEVtcGxveWVlKGVtcGxveWVlKTtcclxuICAgICAgICBhZGRUb1RhYmxlKGxpc3RFbXBsb3llZSk7XHJcbiAgICAgICAgY2xlYXJJbnB1dEVsZW1lbnQoKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGFsZXJ0KFwiQ8OzIGfDrCDEkcOzIHNhaSBzYWkgISEgXFxuXCIgKyBlcnJNZXMpO1xyXG4gICAgfVxyXG59O1xyXG52YXIgZWRpdEVtcGxveWVlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGRhdGFJZCA9IHBhcnNlSW50KHRoaXMuZ2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiKSk7XHJcbiAgICB2YXIgdGFyZ2V0ID0gKGxpc3RFbXBsb3llZS5saXN0Lm1hcChmdW5jdGlvbiAoZSkgeyByZXR1cm4gZS5nZXRJZCgpOyB9KSkuaW5kZXhPZihkYXRhSWQpO1xyXG4gICAgaWYgKHRhcmdldCA+IC0xKSB7XHJcbiAgICAgICAgdmFyIGVtcCA9IGxpc3RFbXBsb3llZS5saXN0W3RhcmdldF07XHJcbiAgICAgICAgdmFyIHRlbXBsYXRlID0gY3JlYXRlTW9kYWwoZW1wKTtcclxuICAgICAgICAvLyBBcHBlbmQgbW9kYWxcclxuICAgICAgICB2YXIgbW9kYWxfMSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbC13cmFwcGVyJyk7XHJcbiAgICAgICAgbW9kYWxfMS5pbm5lckhUTUwgPSB0ZW1wbGF0ZTtcclxuICAgICAgICBtb2RhbF8xLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgIC8vIGFkZCBldmVudCBDbG9zZSBNb2RhbFxyXG4gICAgICAgIHZhciBjbG9zZU1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnanMtY2xvc2UtbW9kYWwnKTtcclxuICAgICAgICBpZiAoY2xvc2VNb2RhbC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbG9zZU1vZGFsLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjbG9zZU1vZGFsW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZU1vZGFsKG1vZGFsXzEpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYWRkIGV2ZW50IFVwZGF0ZSBFbXBsb3llZVxyXG4gICAgICAgIHZhciB1cGRhdGVFbXAgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdqcy11cGRhdGUtZW1wJyk7XHJcbiAgICAgICAgaWYgKHVwZGF0ZUVtcC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1cGRhdGVFbXAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUVtcFtpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0RW1wID0gbGlzdEVtcGxveWVlLmxpc3RbdGFyZ2V0XTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZmxhZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVyck1lcyA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBnZXROYW1lID0gZ2V0VmFsdWUodGFyZ2V0RW1wLm5hbWUsICdlZGl0LW5hbWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0TmFtZS5mbGFnID8gdGFyZ2V0RW1wLm5hbWUgPSBnZXROYW1lLnZhbHVlIDogZXJyTWVzICs9IGdldE5hbWUubWVzc2VuZ2VyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ2V0U2V4ID0gZ2V0VmFsdWUodGFyZ2V0RW1wLnNleCwgJ2VkaXQtc2V4Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldFNleC5mbGFnID8gdGFyZ2V0RW1wLnNleCA9IGdldFNleC52YWx1ZSA6IGVyck1lcyArPSBnZXRTZXgubWVzc2VuZ2VyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ2V0WWVhciA9IGdldFZhbHVlKHRhcmdldEVtcC55ZWFyLCAnZWRpdC15ZWFyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldFllYXIuZmxhZyA/IHRhcmdldEVtcC55ZWFyID0gZ2V0WWVhci52YWx1ZSA6IGVyck1lcyArPSBnZXRZZWFyLm1lc3NlbmdlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdldFBvc2l0aW9uID0gZ2V0VmFsdWUodGFyZ2V0RW1wLnBvc2l0aW9uLCAnZWRpdC1wb3NpdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRQb3NpdGlvbi5mbGFnID8gdGFyZ2V0RW1wLnBvc2l0aW9uID0gUG9zaXRpb25bZ2V0UG9zaXRpb24udmFsdWVdIDogZXJyTWVzICs9IGdldFBvc2l0aW9uLm1lc3NlbmdlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdldFNhbGFyeSA9IGdldFZhbHVlKHRhcmdldEVtcC5zYWxhcnksICdlZGl0LXNhbGFyeScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRTYWxhcnkuZmxhZyA/IHRhcmdldEVtcC5zYWxhcnkgPSBnZXRTYWxhcnkudmFsdWUgOiBlcnJNZXMgKz0gZ2V0U2FsYXJ5Lm1lc3NlbmdlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmxhZyA9IGdldE5hbWUuZmxhZyAmJiBnZXRZZWFyLmZsYWcgJiYgZ2V0UG9zaXRpb24uZmxhZyAmJiBnZXRTYWxhcnkuZmxhZztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGFnID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmbGFnICYmIHRhcmdldEVtcC5uYW1lICE9PSAnJyAmJiB0YXJnZXRFbXAueWVhciAhPT0gMCAmJiB0YXJnZXRFbXAuc2FsYXJ5ICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RFbXBsb3llZS5saXN0W3RhcmdldF0gPSB0YXJnZXRFbXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGxpc3RFbXBsb3llZS5saXN0W3RhcmdldF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUb1RhYmxlKGxpc3RFbXBsb3llZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBNb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVNb2RhbChtb2RhbF8xKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiQ8OzIGfDrCDEkcOzIHNhaSBzYWkgISEgXFxuXCIgKyBlcnJNZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG52YXIgZGVsZXRlRW1wbG95ZWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZGF0YUlkID0gcGFyc2VJbnQodGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIpKTtcclxuICAgIGlmIChjb25maXJtKFwiQlxcdTFFQTFuIGNcXHUwMEYzIGNoXFx1MUVBRmMgbFxcdTAwRTAgbXVcXHUxRUQxbiB4XFx1MDBGM2EgRW1wbG95ZWUgI1wiICsgZGF0YUlkKSkge1xyXG4gICAgICAgIHZhciB0YXJnZXQgPSAobGlzdEVtcGxveWVlLmxpc3QubWFwKGZ1bmN0aW9uIChlKSB7IHJldHVybiBlLmdldElkKCk7IH0pKS5pbmRleE9mKGRhdGFJZCk7XHJcbiAgICAgICAgaWYgKHRhcmdldCA+IC0xKSB7XHJcbiAgICAgICAgICAgIGxpc3RFbXBsb3llZS5yZW1vdmVFbXBsb3llZSh0YXJnZXQpO1xyXG4gICAgICAgICAgICB2YXIgdHIgPSB0aGlzLmNsb3Nlc3QoXCJ0clwiKTtcclxuICAgICAgICAgICAgdHIucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsaXN0RW1wbG95ZWUubGlzdC5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgdmFyIHRlbXBsYXRlID0gXCJcXG4gICAgICAgICAgICAgICAgPHRyIGlkPVxcXCJkYXRhLWVtcHR5XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjb2xzcGFuPVxcXCI3XFxcIiBjbGFzcz1cXFwiYm9yZGVyLTAgcHktNCBweC0wXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLXdyYXBwZXIgbWItMCB0ZXh0LWNlbnRlclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXCJtYi0wXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEtoXFx1MDBGNG5nIGNcXHUwMEYzIGRcXHUxRUVGIGxpXFx1MUVDN3UgXFx1MDExMVxcdTFFQzMgaGlcXHUxRUMzbiB0aFxcdTFFQ0JcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cXG4gICAgICAgICAgICAgICAgPC90cj5cXG4gICAgICAgICAgICBcIjtcclxuICAgICAgICAgICAgdmFyIHRib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtcGxveWVlX2xpc3QnKTtcclxuICAgICAgICAgICAgdGJvZHkuaW5uZXJIVE1MID0gdGVtcGxhdGU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG59O1xyXG52YXIgYWRkVG9UYWJsZSA9IGZ1bmN0aW9uIChlbXBMaXN0KSB7XHJcbiAgICB2YXIgdGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1wbG95ZWVfbGlzdCcpO1xyXG4gICAgdmFyIHRlbXBsYXRlID0gJyc7XHJcbiAgICBpZiAoZW1wTGlzdC5saXN0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gZW1wTGlzdC5saXN0OyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIgZW1wID0gX2FbX2ldO1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZSArPSBcIlxcbiAgICAgICAgICAgICAgICA8dHIgaWQ9XFxcInRyLVwiICsgZW1wLmdldElkKCkgKyBcIlxcXCIgZGF0YS1pZD1cXFwiXCIgKyBlbXAuZ2V0SWQoKSArIFwiXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFwidGV4dC1ub3dyYXBcXFwiPlwiICsgZW1wLmdldElkKCkgKyBcIjwvdGQ+XFxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcInRleHQtbm93cmFwXFxcIj5cIiArIGVtcC5uYW1lICsgXCI8L3RkPlxcbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXCJ0ZXh0LW5vd3JhcFxcXCI+XCIgKyAoZW1wLnNleCA/ICdO4buvJyA6ICdOYW0nKSArIFwiPC90ZD5cXG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFwidGV4dC1ub3dyYXBcXFwiPlwiICsgZW1wLnllYXIgKyBcIjwvdGQ+XFxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcInRleHQtbm93cmFwXFxcIj5cIiArIGVtcC5wb3NpdGlvbiArIFwiPC90ZD5cXG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFwidGV4dC1ub3dyYXBcXFwiPlwiICsgZW1wLnNhbGFyeSArIFwiIFZOXFx1MDExMDwvdGQ+XFxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcInRleHQtcmlnaHQgdGV4dC1ub3dyYXBcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XFxcIiNcXFwiIGNsYXNzPVxcXCJ0ZXh0LXdhcm5pbmcganMtZWRpdC1lbXBcXFwiIGRhdGEtaWQ9XFxcIlwiICsgZW1wLmdldElkKCkgKyBcIlxcXCIgaWQ9XFxcImVkaXQtZW1wLVwiICsgZW1wLmdldElkKCkgKyBcIlxcXCI+U1xcdTFFRURhPC9hPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJweC0yXFxcIj4gfCA8L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiI1xcXCIgY2xhc3M9XFxcInRleHQtZGFuZ2VyIGpzLWRlbGV0ZS1lbXBcXFwiIGRhdGEtaWQ9XFxcIlwiICsgZW1wLmdldElkKCkgKyBcIlxcXCIgaWQ9XFxcImRlbC1lbXAtXCIgKyBlbXAuZ2V0SWQoKSArIFwiXFxcIj5YXFx1MDBGM2E8L2E+XFxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxcbiAgICAgICAgICAgICAgICA8L3RyPlxcbiAgICAgICAgICAgIFwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHRlbXBsYXRlICs9IFwiXFxuICAgICAgICAgICAgPHRyIGlkPVxcXCJkYXRhLWVtcHR5XFxcIj5cXG4gICAgICAgICAgICAgICAgPHRkIGNvbHNwYW49XFxcIjdcXFwiIGNsYXNzPVxcXCJib3JkZXItMCBweS00IHB4LTBcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS13cmFwcGVyIG1iLTAgdGV4dC1jZW50ZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXCJtYi0wXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgS2hcXHUwMEY0bmcgY1xcdTAwRjMgZFxcdTFFRUYgbGlcXHUxRUM3dSBcXHUwMTExXFx1MUVDMyBoaVxcdTFFQzNuIHRoXFx1MUVDQlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICA8L3RkPlxcbiAgICAgICAgICAgIDwvdHI+XFxuICAgICAgICBcIjtcclxuICAgIH1cclxuICAgIHRib2R5LmlubmVySFRNTCA9IHRlbXBsYXRlO1xyXG4gICAgdmFyIGJ0bkRlbEVtcCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2pzLWRlbGV0ZS1lbXAnKTtcclxuICAgIHZhciBidG5FZGl0RW1wID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnanMtZWRpdC1lbXAnKTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnRuRGVsRW1wLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3RoaXNfMTtcclxuICAgICAgICBidG5EZWxFbXBbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkZWxldGVFbXBsb3llZSk7XHJcbiAgICB9XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ0bkVkaXRFbXAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfdGhpc18xO1xyXG4gICAgICAgIGJ0bkVkaXRFbXBbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlZGl0RW1wbG95ZWUpO1xyXG4gICAgfVxyXG4gICAgLy8gZ2V0TGVuZ3RoRW1wTGlzdCgpO1xyXG59O1xyXG52YXIgZ2V0VmFsdWUgPSBmdW5jdGlvbiAodmFsLCBlbG0pIHtcclxuICAgIHZhciBfYSwgX2IsIF9jO1xyXG4gICAgdmFyIE9iaiA9IHsgdmFsdWU6IG51bGwsIG1lc3NlbmdlcjogJycsIGZsYWc6IHRydWUgfTtcclxuICAgIHZhciB0aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsbSkuZ2V0QXR0cmlidXRlKCdkYXRhLW5hbWUnKSA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsbSkuZ2V0QXR0cmlidXRlKCdkYXRhLW5hbWUnKSA6IGVsbTtcclxuICAgIC8vIENoZWNrIGVtcHR5IG9yIG51bGxcclxuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbG0pLnZhbHVlID09PSAnJykge1xyXG4gICAgICAgIE9iai5mbGFnID0gZmFsc2U7XHJcbiAgICAgICAgT2JqLm1lc3NlbmdlciArPSBcIkJcXHUxRUExbiBjaFxcdTAxQjBhIG5oXFx1MUVBRHAgXCIgKyB0aXRsZS50b1VwcGVyQ2FzZSgpICsgJ1xcbic7XHJcbiAgICAgICAgKF9hID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxtKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNsYXNzTGlzdC5hZGQoJ2lzLWludmFsaWQnKTtcclxuICAgICAgICByZXR1cm4gT2JqO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgaWYgKCFpc05hTigrKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsbSkudmFsdWUpKSkge1xyXG4gICAgICAgICAgICBPYmoudmFsdWUgPSArKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsbSkudmFsdWUpO1xyXG4gICAgICAgICAgICAoX2IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbG0pKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2xhc3NMaXN0LnJlbW92ZSgnaXMtaW52YWxpZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgT2JqLmZsYWcgPSBmYWxzZTtcclxuICAgICAgICAgICAgT2JqLm1lc3NlbmdlciArPSB0aXRsZS50b1VwcGVyQ2FzZSgpICsgXCIgcGhcXHUxRUEzaSBsXFx1MDBFMCAxIHNcXHUxRUQxXCIgKyAnXFxuJztcclxuICAgICAgICAgICAgKF9jID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxtKSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmNsYXNzTGlzdC5hZGQoJ2lzLWludmFsaWQnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBPYmoudmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbG0pLnZhbHVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIE9iajtcclxufTtcclxudmFyIGdldExhc3RJZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBsaXN0RW1wID0gbGlzdEVtcGxveWVlLmxpc3Q7XHJcbiAgICB2YXIgbGFzdElkID0gMDtcclxuICAgIGlmIChsaXN0RW1wLmxlbmd0aCkge1xyXG4gICAgICAgIGxhc3RJZCA9IGxpc3RFbXBbbGlzdEVtcC5sZW5ndGggLSAxXS5nZXRJZCgpICsgMTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGxhc3RJZCA9IDE7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGFzdElkO1xyXG59O1xyXG52YXIgY3JlYXRlTW9kYWwgPSBmdW5jdGlvbiAoZW1wKSB7XHJcbiAgICByZXR1cm4gXCJcXG4gICAgPGRpdiBjbGFzcz1cXFwibW9kYWwgZmFkZSBzaG93XFxcIiBzdHlsZT1cXFwiZGlzcGxheTogYmxvY2s7XFxcIiBpZD1cXFwibXlNb2RhbFxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWRpYWxvZyBtb2RhbC1sZyBtb2RhbC1kaWFsb2ctY2VudGVyZWRcXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWNvbnRlbnRcXFwiPlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1oZWFkZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGg1IGNsYXNzPVxcXCJtb2RhbC10aXRsZVxcXCI+RW1wbG95ZWUgI1wiICsgZW1wLmdldElkKCkgKyBcIiAtIFwiICsgZW1wLm5hbWUgKyBcIjwvaDU+XFxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0bi1jbG9zZSBqcy1jbG9zZS1tb2RhbFxcXCIgZGF0YS1icy1kaXNtaXNzPVxcXCJtb2RhbFxcXCIgYXJpYS1sYWJlbD1cXFwiQ2xvc2VcXFwiPjwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwibW9kYWwtYm9keVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8Zm9ybSBpZD1cXFwiZWRpdEVtcFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCByb3cgbWItNFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cXFwiY29sLXNtLTIgY29sLWZvcm0tbGFiZWxcXFwiPkhcXHUxRUNEIFRcXHUwMEVBbjwvbGFiZWw+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0xMFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgaWQ9XFxcImVkaXQtbmFtZVxcXCIgZGF0YS1uYW1lPVxcXCJIXFx1MUVDRCBUXFx1MDBFQW5cXFwiIHBsYWNlaG9sZGVyPVxcXCJOaFxcdTFFQURwIHRcXHUwMEVBbiBuaFxcdTAwRTJuIHZpXFx1MDBFQW5cXFwiIHZhbHVlPVxcXCJcIiArIGVtcC5uYW1lICsgXCJcXFwiICAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIHJvdyBtYi00XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb2wtc20tMiBjb2wtZm9ybS1sYWJlbFxcXCI+UGhcXHUwMEUxaTwvbGFiZWw+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0xMFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGNsYXNzPVxcXCJmb3JtLXNlbGVjdFxcXCIgaWQ9XFxcImVkaXQtc2V4XFxcIiBkYXRhLW5hbWU9XFxcIlBoXFx1MDBFMWlcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIjBcXFwiIFwiICsgKCFlbXAuc2V4ID8gJ3NlbGVjdGVkJyA6ICcnKSArIFwiPk5hbTwvb3B0aW9uPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIjFcXFwiIFwiICsgKGVtcC5zZXggPyAnc2VsZWN0ZWQnIDogJycpICsgXCI+TlxcdTFFRUY8L29wdGlvbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIHJvdyBtYi00XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb2wtc20tMiBjb2wtZm9ybS1sYWJlbFxcXCI+TlxcdTAxMDNtIFNpbmg8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMTBcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIGlkPVxcXCJlZGl0LXllYXJcXFwiIGRhdGEtbmFtZT1cXFwiblxcdTAxMDNtIHNpbmhcXFwiIHBsYWNlaG9sZGVyPVxcXCJOaFxcdTFFQURwIG5cXHUwMTAzbSBzaW5oXFxcIiB2YWx1ZT1cXFwiXCIgKyBlbXAueWVhciArIFwiXFxcIiAgLz5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCByb3cgbWItNFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cXFwiY29sLXNtLTIgY29sLWZvcm0tbGFiZWxcXFwiPlZcXHUxRUNCIFRyXFx1MDBFRDwvbGFiZWw+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0xMFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGNsYXNzPVxcXCJmb3JtLXNlbGVjdFxcXCIgaWQ9XFxcImVkaXQtcG9zaXRpb25cXFwiIGRhdGEtbmFtZT1cXFwiVlxcdTFFQ0IgdHJcXHUwMEVEXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCIxXFxcIj5OaFxcdTAwRTJuIHZpXFx1MDBFQW48L29wdGlvbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCIyXFxcIj5RdVxcdTFFQTNuIGxcXHUwMEZEPC9vcHRpb24+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiM1xcXCI+R2lcXHUwMEUxbSBcXHUwMTExXFx1MUVEMWM8L29wdGlvbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIHJvdyBtYi00XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb2wtc20tMiBjb2wtZm9ybS1sYWJlbFxcXCI+TFxcdTAxQjBcXHUwMUExbmcgY1xcdTAxQTEgYlxcdTFFQTNuPC9sYWJlbD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTEwXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImlucHV0LWdyb3VwXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgaWQ9XFxcImVkaXQtc2FsYXJ5XFxcIiBkYXRhLW5hbWU9XFxcIkxcXHUwMUIwXFx1MDFBMW5nIGNcXHUwMUExIGJcXHUxRUEzblxcXCIgcGxhY2Vob2xkZXI9XFxcIk5oXFx1MUVBRHAgbFxcdTAxQjBcXHUwMUExbmcgY1xcdTAxQTEgYlxcdTFFQTNuXFxcIiB2YWx1ZT1cXFwiXCIgKyBlbXAuc2FsYXJ5ICsgXCJcXFwiICAvPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJpbnB1dC1ncm91cC10ZXh0XFxcIj5WTlxcdTAxMTA8L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICA8L2Zvcm0+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1mb290ZXJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXNlY29uZGFyeSBqcy1jbG9zZS1tb2RhbFxcXCIgZGF0YS1icy1kaXNtaXNzPVxcXCJtb2RhbFxcXCI+SFxcdTFFRTd5PC9idXR0b24+XFxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tcHJpbWFyeSBqcy11cGRhdGUtZW1wXFxcIj5MXFx1MDFCMHU8L2J1dHRvbj5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWJhY2tkcm9wIGZhZGUgc2hvdyBqcy1jbG9zZS1tb2RhbFxcXCI+PC9kaXY+XFxuICAgIFwiO1xyXG59O1xyXG52YXIgcmVtb3ZlTW9kYWwgPSBmdW5jdGlvbiAobW9kYWwpIHtcclxuICAgIHZhciBteU1vZGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215TW9kYWwnKTtcclxuICAgIG15TW9kZWwgPT09IG51bGwgfHwgbXlNb2RlbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogbXlNb2RlbC5yZW1vdmUoKTtcclxuICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbn07XHJcbi8vIGNvbnN0IGdldExlbmd0aEVtcExpc3QgPSAoKTpzdHJpbmcgPT4ge1xyXG4vLyAgICAgcmV0dXJuIGxpc3RFbXBsb3llZS5sZW5ndGhFbXBsb3llZSgpICsgJyc7XHJcbi8vIH1cclxudmFyIGNsZWFySW5wdXRFbGVtZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIF9hO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB2YXIgaW5wdXRFbG0gPSBbJ25hbWUnLCAneWVhcicsICdzYWxhcnknXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGlucHV0RWxtXzEgPSBpbnB1dEVsbTsgX2kgPCBpbnB1dEVsbV8xLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIgaXRlbSA9IGlucHV0RWxtXzFbX2ldO1xyXG4gICAgICAgICAgICAoX2EgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpdGVtKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWludmFsaWQnKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaXRlbSkudmFsdWUgPSAnJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH1cclxufTtcclxud2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBidG5BZGRFbXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkJyk7XHJcbiAgICBpZiAoISFidG5BZGRFbXApIHtcclxuICAgICAgICBidG5BZGRFbXAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgYWRkRW1wbG95ZWUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufTtcclxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgaXMgcmVmZXJlbmNlZCBieSBvdGhlciBtb2R1bGVzIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2MDcpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==